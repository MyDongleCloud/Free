<div class="flex min-h-screen bg-white text-gray-900">
	<app-sidebar></app-sidebar>
	<div class="flex-1 flex flex-col min-h-screen">
		<app-topbar title="{{L('Profile')}}"></app-topbar>
		<div>
			<main class="flex-1 p-6 bg-background space-y-6">
				<div class="border-b border-gray-200">
					<nav class="flex space-x-8">
						<button (click)="activeTab = 'general'" [class]="activeTab == 'general' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'" class="py-2 px-1 border-b-2 font-medium text-sm transition-colors">
							{{L("General")}}
						</button>
						<button (click)="activeTab = 'identity'" [class]="activeTab == 'identity' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'" class="py-2 px-1 border-b-2 font-medium text-sm transition-colors">
							{{L("Identity")}}
						</button>
						<button (click)="activeTab = 'security'" [class]="activeTab == 'security' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'" class="py-2 px-1 border-b-2 font-medium text-sm transition-colors">
							{{L("Security")}}
						</button>
					</nav>
				</div>
				<div class="space-y-6">
				@if (activeTab == 'general') {
					<div class="bg-white rounded-xl border border-gray-200 p-6 shadow-sm">
						<h3 class="text-lg font-semibold text-gray-900 mb-6">{{L("General Settings")}}</h3>
						<div class="space-y-6">
							<h4 class="text-md font-medium text-gray-900 mb-4">{{L("Web App")}}</h4>
							<div class="space-y-4">
								<div class="flex items-center justify-between">
									<div>
										<p class="text-sm font-medium text-gray-700 mb-3">{{L("Language")}}</p>
										<div class="flex rounded-lg border border-gray-200 bg-white p-1">
											<label class="relative flex flex-col cursor-pointer items-center justify-center rounded-md px-3 py-1.5 transition-all duration-300">
												<input type="radio" name="language" value="en" class="peer sr-only" checked (click)="changeLanguageAndRefresh('en');"/>
												<span class="absolute inset-0 z-0 rounded-md bg-gray-100 opacity-0 transition-all duration-300 peer-checked:opacity-100"></span>
												<span class="relative z-10 font-medium transition-all duration-300 peer-checked:text-gray-900">ðŸ‡ºðŸ‡¸<br>EN</span>
											</label>
											<label class="relative flex flex-col grow cursor-pointer items-center justify-center rounded-md px-3 py-1.5 transition-all duration-300">
												<input type="radio" name="language" value="fr" class="peer sr-only"  (click)="changeLanguageAndRefresh('fr');"/>
												<span class="absolute inset-0 z-0 rounded-md bg-gray-100 opacity-0 transition-all duration-300 peer-checked:opacity-100"></span>
												<span class="relative z-10 font-medium transition-all duration-300 peer-checked:text-gray-900">ðŸ‡«ðŸ‡·<br>FR</span>
											</label>
										</div>
									</div>
								</div>
								<div>
									<div class="flex items-center justify-between">
										<div>
											<p class="text-sm font-medium text-gray-700">{{L("Power User Mode")}}</p>
											<p class="text-sm text-gray-500">{{L("Enable")}}</p>
										</div>
										<input type="checkbox" [(ngModel)]="global.settings.powerUser" class="w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
									</div>
								</div>
							</div>
						</div>
					</div>
				}
				@if (activeTab == 'identity') {
					<div class="bg-white rounded-xl border border-gray-200 p-6 shadow-sm">
						<h3 class="text-lg font-semibold text-gray-900 mb-6">{{L("Identity")}}</h3>
						<div class="space-y-6">
							<div>
								<label class="block text-sm font-medium text-gray-700 mb-2">{{L("Name")}}</label>
								<input type="text" disabled="true" value="{{global.session.user.name}}" class="px-3 py-2 border border-gray-300 rounded-lg text-gray-500">
							</div>
							<div>
								<label class="block text-sm font-medium text-gray-700 mb-2">{{L("Username")}}</label>
								<input type="text" disabled="true" value="{{global.session.user.username}}" class="px-3 py-2 border border-gray-300 rounded-lg text-gray-500">
							</div>
							<div>
								<label class="block text-sm font-medium text-gray-700 mb-2">{{L("Email")}}</label>
								<input type="text" disabled="true" value="{{global.session.user.email}}" class="px-3 py-2 border border-gray-300 rounded-lg text-gray-500">
							</div>
						</div>
					</div>
				}
				@if (activeTab == 'security') {
					<div class="bg-white rounded-xl border border-gray-200 p-6 shadow-sm">
						<h3 class="text-lg font-semibold text-gray-900 mb-6">{{L("Security Settings")}}</h3>
						<div class="space-y-6">
							<div>
								<h4 class="text-md font-medium text-gray-900 mb-4">{{L("Web App")}}</h4>
								<div class="space-y-4">
									<div class="flex items-center justify-between">
										<div>
											<p class="text-sm font-medium text-gray-700">{{L("Two-Factor Authentication")}}</p>
											<p class="text-sm text-gray-500">{{L("Enable")}}</p>
										</div>
										<input type="checkbox" [(ngModel)]="TwoFA" class="w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
									</div>
								</div>
							</div>
						</div>
					</div>
				}
				</div>
			</main>
		</div>
	</div>
</div>
